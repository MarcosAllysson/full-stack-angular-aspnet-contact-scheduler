"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[698],{4698:(Z,l,o)=>{o.r(l),o.d(l,{RegisterComponent:()=>E});var n=o(95),u=o(6814),e=o(5849),d=o(3132),_=o(5219),C=o(707),f=o(7018),P=o(304);function M(t,c){1&t&&(e.TgZ(0,"div",15),e._uU(1," username inv\xe1lido. "),e.qZA())}function O(t,c){1&t&&(e.TgZ(0,"div",15),e._uU(1," Email inv\xe1lido. "),e.qZA())}function h(t,c){1&t&&(e.TgZ(0,"div",15),e._uU(1," Senha deve ter no m\xednimo 6 caracteres. "),e.qZA())}function v(t,c){1&t&&(e.TgZ(0,"div",15),e._uU(1," As senhas n\xe3o coincidem. "),e.qZA())}let E=(()=>{class t{constructor(){this._fb=(0,e.f3M)(n.qu),this._authService=(0,e.f3M)(P.e),this._router=(0,e.f3M)(d.F0),this._messageService=(0,e.f3M)(_.ez)}ngOnInit(){this.registerForm=this._fb.group({username:["",n.kI.required],email:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required,n.kI.minLength(6)]],confirmPassword:["",n.kI.required]},{validators:this.passwordMatchValidator})}passwordMatchValidator(s){const i=s.get("password")?.value,r=s.get("confirmPassword")?.value;return i===r?null:{mismatch:!0}}register(){if(this.registerForm.valid){const{username:s,email:i,password:r}=this.registerForm.value;this._authService.register({username:s,email:i,password:r,confirmPassword:this.registerForm.get("confirmPassword")?.value}).subscribe({next:()=>{this._messageService.add({severity:"success",summary:"Cadastro",detail:"Cadastro realizado com sucesso!"}),this._router.navigate(["/auth/login"])},error:()=>{this._messageService.add({severity:"error",summary:"Erro",detail:"Erro ao cadastrar"})}})}else this.registerForm.markAllAsTouched()}static#e=this.\u0275fac=function(i){return new(i||t)};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e._Bn([_.ez]),e.jDz],decls:30,vars:6,consts:[[1,"register-container"],[1,"register-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","username","id","username","formControlName","username","placeholder","Digite seu username"],["class","error-message",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Digite seu email"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Digite sua senha"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirme sua senha"],["type","submit",3,"disabled"],[1,"form-links"],["routerLink","/auth/login"],[1,"error-message"]],template:function(i,r){if(1&i&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return r.register()}),e.TgZ(3,"h2"),e._uU(4,"Cadastro"),e.qZA(),e.TgZ(5,"div",2)(6,"label",3),e._uU(7,"Username"),e.qZA(),e._UZ(8,"input",4),e.YNc(9,M,2,0,"div",5),e.qZA(),e.TgZ(10,"div",2)(11,"label",6),e._uU(12,"Email"),e.qZA(),e._UZ(13,"input",7),e.YNc(14,O,2,0,"div",5),e.qZA(),e.TgZ(15,"div",2)(16,"label",8),e._uU(17,"Senha"),e.qZA(),e._UZ(18,"input",9),e.YNc(19,h,2,0,"div",5),e.qZA(),e.TgZ(20,"div",2)(21,"label",10),e._uU(22,"Confirme a Senha"),e.qZA(),e._UZ(23,"input",11),e.YNc(24,v,2,0,"div",5),e.qZA(),e.TgZ(25,"button",12),e._uU(26,"Cadastrar"),e.qZA(),e.TgZ(27,"div",13)(28,"a",14),e._uU(29,"J\xe1 tem conta? Fa\xe7a login."),e.qZA()()()()),2&i){let a,g,m,p;e.xp6(2),e.Q6J("formGroup",r.registerForm),e.xp6(7),e.Q6J("ngIf",(null==(a=r.registerForm.get("username"))?null:a.invalid)&&(null==(a=r.registerForm.get("username"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=r.registerForm.get("email"))?null:g.invalid)&&(null==(g=r.registerForm.get("email"))?null:g.touched)),e.xp6(5),e.Q6J("ngIf",(null==(m=r.registerForm.get("password"))?null:m.invalid)&&(null==(m=r.registerForm.get("password"))?null:m.touched)),e.xp6(5),e.Q6J("ngIf",(null==r.registerForm.errors?null:r.registerForm.errors.mismatch)&&(null==(p=r.registerForm.get("confirmPassword"))?null:p.touched)),e.xp6(1),e.Q6J("disabled",r.registerForm.invalid)}},dependencies:[u.ez,u.O5,n.u5,n._Y,n.Fj,n.JJ,n.JL,C.hJ,n.UX,n.sg,n.u,d.rH,f.EV,f.FN],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f4f7f9}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 8px #0000001a;width:100%;max-width:400px}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ccc;border-radius:4px}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007ad9}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.875rem;margin-top:.5rem}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#007ad9;border:none;border-radius:4px;color:#fff;font-size:1rem;cursor:pointer}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#a0c4e3;cursor:not-allowed}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-links[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007ad9;text-decoration:none}.register-container[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}return t})()}}]);