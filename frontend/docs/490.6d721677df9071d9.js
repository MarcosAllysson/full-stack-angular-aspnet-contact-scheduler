"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[490],{3490:(W,c,o)=>{o.r(c),o.d(c,{FavoritesComponent:()=>L});var t=o(5849),h=o(6814),M=o(95),m=o(707),P=o(8057),D=o(7213),T=o(9663),d=o(3714),_=o(5219),l=o(3784),g=o(7680),u=o(7018),v=o(1531),E=o(9967),C=o(5048),f=o(3259),O=o(5648);const A=["dt"];function F(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"p-iconField",9)(2,"p-inputIcon"),t._UZ(3,"i",10),t.qZA(),t.TgZ(4,"input",11),t.NdJ("input",function(i){t.CHM(e);const s=t.oxw(),p=t.MAs(3);return t.KtG(s.onGlobalFilter(p,i))}),t.qZA()()()}}function U(n,r){1&n&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"A\xe7\xf5es"),t.qZA(),t.TgZ(3,"th",12),t._uU(4,"Nome "),t._UZ(5,"p-sortIcon",13),t.qZA(),t.TgZ(6,"th",14),t._uU(7,"E-mail "),t._UZ(8,"p-sortIcon",15),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Celular"),t.qZA()())}function x(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",16)(3,"p-button",17),t.NdJ("click",function(){const s=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.toggleFavorite(s))}),t.qZA()()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA()()}if(2&n){const e=r.$implicit,a=t.oxw();t.xp6(3),t.Q6J("rounded",!0)("outlined",!0),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(a.formatNumber(e.cellPhone,!0))}}function Z(n,r){if(1&n&&t._uU(0),2&n){const e=t.oxw();t.hij(" No total, h\xe1 ",e.data?e.data.length:0," contato(s) favorito(s). ")}}const I=()=>({width:"50px",height:"50px"});function y(n,r){1&n&&t._UZ(0,"p-progressSpinner",18),2&n&&t.Akn(t.DdM(2,I))}const K=()=>({"min-width":"50rem"}),R=()=>[5,10,20],B=()=>["name","email","cellPhone"];let L=(()=>{class n{constructor(){this.data=[],this.loading=!0,this.contactDialog=!1,this.selectedContact=null,this._messageService=(0,t.f3M)(_.ez),this._contactService=(0,t.f3M)(C.y)}ngOnInit(){this.loadFavorites()}loadFavorites(){this.loading=!0,this._contactService.getFavorites().subscribe({next:e=>{this.data=e,this.loading=!1},error:e=>{this.loading=!1,this._messageService.add({severity:"error",summary:"Erro",detail:"Falha ao carregar favoritos"})}})}toggleFavorite(e){this._contactService.toggleFavorite(e.id).subscribe({next:()=>{this.loadFavorites(),this._messageService.add({severity:"success",summary:"Sucesso",detail:"Contato desfavoritado"})},error:()=>{this._messageService.add({severity:"error",summary:"Erro",detail:"Falha ao favoritar contato"})}})}formatNumber(e,a=!1){return(0,O.u)(e,a)}onGlobalFilter(e,a){e.filterGlobal(a.target.value,"contains")}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-favorites"]],viewQuery:function(a,i){if(1&a&&t.Gf(A,5),2&a){let s;t.iGM(s=t.CRH())&&(i.table=s.first)}},standalone:!0,features:[t._Bn([_.ez]),t.jDz],decls:9,vars:10,consts:[[1,"card"],["stripedRows","",3,"value","loading","tableStyle","paginator","rows","rowsPerPageOptions","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","loading"],[1,"flex","items-center","justify-content-end"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pesquise um contato",3,"input"],["pSortableColumn","name"],["field","name"],["pSortableColumn","email"],["field","email"],[1,"flex"],["icon","pi pi-thumbs-down","severity","warning","pTooltip","Desfavoritar contato","tooltipPosition","top",3,"rounded","outlined","click"],["strokeWidth","8","fill","transparent","animationDuration",".5s"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"p-table",1,2),t.YNc(4,F,5,0,"ng-template",3)(5,U,11,0,"ng-template",4)(6,x,10,5,"ng-template",5)(7,Z,1,1,"ng-template",6)(8,y,1,3,"ng-template",7),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("value",i.data)("loading",i.loading)("tableStyle",t.DdM(7,K))("paginator",!0)("rows",5)("rowsPerPageOptions",t.DdM(8,R))("globalFilterFields",t.DdM(9,B)))},dependencies:[h.ez,M.UX,l.U$,l.iA,_.jx,l.lQ,l.fz,u.EV,u.FN,D.S,m.hJ,m.zx,d.j,d.o,T.zz,P.nD,g.L,g.G,v.s,v.D,E.n,E.S,f.z,f.u],styles:["[_nghost-%COMP%]{display:block}"]})}return n})()}}]);