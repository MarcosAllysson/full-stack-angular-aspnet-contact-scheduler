"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[207],{7207:(L,c,n)=>{n.r(c),n.d(c,{DisabledComponent:()=>B});var t=n(5849),M=n(6814),C=n(95),d=n(707),T=n(8057),P=n(7213),f=n(9663),m=n(3714),r=n(5219),_=n(3784),g=n(7680),u=n(7018),E=n(1531),D=n(9967),h=n(5048),v=n(3259);const O=["dt"];function A(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div",8)(1,"p-iconField",9)(2,"p-inputIcon"),t._UZ(3,"i",10),t.qZA(),t.TgZ(4,"input",11),t.NdJ("input",function(o){t.CHM(e);const s=t.oxw(),p=t.MAs(3);return t.KtG(s.onGlobalFilter(p,o))}),t.qZA()()()}}function U(a,l){1&a&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"A\xe7\xf5es"),t.qZA(),t.TgZ(3,"th",12),t._uU(4,"Nome "),t._UZ(5,"p-sortIcon",13),t.qZA(),t.TgZ(6,"th",14),t._uU(7,"E-mail "),t._UZ(8,"p-sortIcon",15),t.qZA()())}function x(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",16)(3,"p-button",17),t.NdJ("click",function(){const s=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.activateContact(s))}),t.qZA()()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA()()}if(2&a){const e=l.$implicit;t.xp6(3),t.Q6J("rounded",!0)("outlined",!0),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.email)}}function Z(a,l){if(1&a&&t._uU(0),2&a){const e=t.oxw();t.hij(" No total, h\xe1 ",e.data?e.data.length:0," contato(s) desativados(s). ")}}const b=()=>({width:"50px",height:"50px"});function I(a,l){1&a&&t._UZ(0,"p-progressSpinner",18),2&a&&t.Akn(t.DdM(2,b))}const y=()=>({"min-width":"50rem"}),K=()=>[5,10,20],R=()=>["name","email"];let B=(()=>{class a{constructor(){this.data=[],this.loading=!0,this._messageService=(0,t.f3M)(r.ez),this._contactService=(0,t.f3M)(h.y)}ngOnInit(){this.loadDisabled()}loadDisabled(){this.loading=!0,this._contactService.getDisabledContacts().subscribe({next:e=>{this.data=e,this.loading=!1},error:e=>{this.loading=!1,this._messageService.add({severity:"error",summary:"Erro",detail:"Falha ao carregar contatos desativos."})}})}activateContact(e){this._contactService.activateContact(e.id).subscribe({next:()=>{this.loadDisabled(),this._messageService.add({severity:"success",summary:"Sucesso",detail:"Contato ativado"})},error:()=>{this._messageService.add({severity:"error",summary:"Erro",detail:"Falha ao ativar contato"})}})}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-disabled"]],viewQuery:function(i,o){if(1&i&&t.Gf(O,5),2&i){let s;t.iGM(s=t.CRH())&&(o.table=s.first)}},standalone:!0,features:[t._Bn([r.ez]),t.jDz],decls:9,vars:10,consts:[[1,"card"],["stripedRows","",3,"value","loading","tableStyle","paginator","rows","rowsPerPageOptions","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","loading"],[1,"flex","items-center","justify-content-end"],["iconPosition","left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pesquise um contato",3,"input"],["pSortableColumn","name"],["field","name"],["pSortableColumn","email"],["field","email"],[1,"flex"],["icon","pi pi-lock-open","severity","warning","pTooltip","Ativar contato","tooltipPosition","top",3,"rounded","outlined","click"],["strokeWidth","8","fill","transparent","animationDuration",".5s"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"p-table",1,2),t.YNc(4,A,5,0,"ng-template",3)(5,U,9,0,"ng-template",4)(6,x,8,4,"ng-template",5)(7,Z,1,1,"ng-template",6)(8,I,1,3,"ng-template",7),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("value",o.data)("loading",o.loading)("tableStyle",t.DdM(7,y))("paginator",!0)("rows",5)("rowsPerPageOptions",t.DdM(8,K))("globalFilterFields",t.DdM(9,R)))},dependencies:[M.ez,C.UX,_.U$,_.iA,r.jx,_.lQ,_.fz,u.EV,u.FN,P.S,d.hJ,d.zx,m.j,m.o,f.zz,T.nD,g.L,g.G,E.s,E.D,D.n,D.S,v.z,v.u],styles:["[_nghost-%COMP%]{display:block}"]})}return a})()}}]);