"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[68],{4068:(P,s,t)=>{t.r(s),t.d(s,{LoginComponent:()=>C});var o=t(95),c=t(3132),n=t(5849),m=t(6814),u=t(707),_=t(5219),d=t(7018),f=t(304);function p(e,O){1&e&&(n.TgZ(0,"div",11),n._uU(1," Email inv\xe1lido. "),n.qZA())}function M(e,O){1&e&&(n.TgZ(0,"div",11),n._uU(1," Senha deve ter no m\xednimo 6 caracteres. "),n.qZA())}let C=(()=>{class e{constructor(){this._fb=(0,n.f3M)(o.qu),this._authService=(0,n.f3M)(f.e),this._router=(0,n.f3M)(c.F0),this._messageService=(0,n.f3M)(_.ez)}ngOnInit(){this.loginForm=this._fb.group({email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required,o.kI.minLength(6)]]})}login(){if(this.loginForm.valid){const{email:l,password:r}=this.loginForm.value;this._authService.login({email:l,password:r}).subscribe({next:()=>{this._messageService.add({severity:"success",summary:"Login",detail:"Login realizado com sucesso"}),this._router.navigate(["/home"])},error:i=>{this._messageService.add({severity:"error",summary:"Erro",detail:"Falha no login. Verifique suas credenciais."})}})}else this.loginForm.markAllAsTouched()}static#n=this.\u0275fac=function(r){return new(r||e)};static#o=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],standalone:!0,features:[n._Bn([_.ez]),n.jDz],decls:20,vars:4,consts:[[1,"login-container"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Digite seu email"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Digite sua senha"],["type","submit",3,"disabled"],[1,"form-links"],["routerLink","/auth/register"],[1,"error-message"]],template:function(r,i){if(1&r&&(n.TgZ(0,"div",0),n._UZ(1,"p-toast"),n.TgZ(2,"form",1),n.NdJ("ngSubmit",function(){return i.login()}),n.TgZ(3,"h2"),n._uU(4,"Login"),n.qZA(),n.TgZ(5,"div",2)(6,"label",3),n._uU(7,"Email"),n.qZA(),n._UZ(8,"input",4),n.YNc(9,p,2,0,"div",5),n.qZA(),n.TgZ(10,"div",2)(11,"label",6),n._uU(12,"Senha"),n.qZA(),n._UZ(13,"input",7),n.YNc(14,M,2,0,"div",5),n.qZA(),n.TgZ(15,"button",8),n._uU(16,"Entrar"),n.qZA(),n.TgZ(17,"div",9)(18,"a",10),n._uU(19,"Criar conta"),n.qZA()()()()),2&r){let g,a;n.xp6(2),n.Q6J("formGroup",i.loginForm),n.xp6(7),n.Q6J("ngIf",(null==(g=i.loginForm.get("email"))?null:g.invalid)&&(null==(g=i.loginForm.get("email"))?null:g.touched)),n.xp6(5),n.Q6J("ngIf",(null==(a=i.loginForm.get("password"))?null:a.invalid)&&(null==(a=i.loginForm.get("password"))?null:a.touched)),n.xp6(1),n.Q6J("disabled",i.loginForm.invalid)}},dependencies:[m.ez,m.O5,o.u5,o._Y,o.Fj,o.JJ,o.JL,u.hJ,o.UX,o.sg,o.u,c.rH,d.EV,d.FN],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f4f7f9}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 8px #0000001a;width:100%;max-width:400px}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ccc;border-radius:4px}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007ad9}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.875rem;margin-top:.5rem}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#007ad9;border:none;border-radius:4px;color:#fff;font-size:1rem;cursor:pointer}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#a0c4e3;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-links[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:space-between}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007ad9;text-decoration:none}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}return e})()}}]);